<div class="mt-3 mb-4 text-center">
    <h1>Cantidad de Corrales: {{allCorrales.length}}</h1>
    <button class="m-2  mt-4 mb-1 btn btn-primary" data-toggle="modal" data-target="#crearCorral">
        Crear corral
    </button>
    <button class="m-2 mt-4 mb-1 btn btn-primary" data-toggle="modal" data-target="#crearAnimal">
        Crear animal
    </button>
</div>
<div class="row m-1">
    <div *ngFor="let item of allCorrales" class="col-3">
        <div class="card mt-2 mb-3" style="width: 18rem;">
            <img src="assets/images.jpg" class="card-img-top" alt="...">
            <div class="card-body">
                <h5 class="card-title">{{item.name}}</h5>
                <p class="card-text">
                    {{item.desc}}
                </p>
                <a [routerLink]="['corral',item.id]" routerLinkActive="router-link-active"
                    class="m-1 btn btn-outline-primary">
                    Ver corral
                </a>
                <button class="m-1 btn btn-outline-danger" (click)="removeCorral(item._id)">
                    Eliminar corral
                </button>
            </div>
        </div>
    </div>
</div>
<!-- 
    MODAL CREAR CORRAL
 -->
<div class="modal fade" id="crearCorral" tabindex="-1" aria-labelledby="crearCorralLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Crea un corral</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form #form_>
                    <div class="form-group">
                        <label for="name">Nombre del corral</label>
                        <input type="text" class="form-control" id="name" [(ngModel)]="modelCorral.name" name="name"
                            aria-describedby="nameHelp">
                    </div>
                    <div class="form-group">
                        <label for="desc">Descripción del corral</label>
                        <textarea class="form-control" id="desc" [(ngModel)]="modelCorral.desc" name="desc"
                            rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="cantidad">Cantidad de animales</label>
                        <input type="number" class="form-control" id="cantidad" [(ngModel)]="modelCorral.cantidad"
                            name="cantidad" aria-describedby="nameHelp">
                    </div>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="estate" [(ngModel)]="modelCorral.state"
                            name="state">
                        <label class="form-check-label" for="estate">¿ Habilitado ?</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary" (click)="createCorral(modelCorral)">Crear</button>
            </div>
        </div>
    </div>
</div>
<!-- 
    MODAL CREAR ANIMAL
 -->
<div class="modal fade" id="crearAnimal" tabindex="-1" aria-labelledby="crearAnimalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Crea un animal</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="nameAnimal">Nombre del animal:</label>
                        <input type="text" class="form-control" id="nameAnimal" aria-describedby="nameHelp"
                            [(ngModel)]="modelAnimal.name" name="name">
                    </div>
                    <div class="form-group">
                        <label for="desc">Descripción del corral</label>
                        <textarea class="form-control" id="desc" [(ngModel)]="modelAnimal.desc" name="desc"
                            rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="name">Cantidad a ingresar:</label>
                        <input type="number" class="form-control" id="name" aria-describedby="nameHelp"
                            [(ngModel)]="modelAnimal.cantidad" name="cantidad">
                        <small id="emailHelp" class="form-text text-muted">
                            Cantidad actual: 10
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">Nivel de peligrosidad:</label>
                        <select class="form-control" id="exampleFormControlSelect1" [(ngModel)]="modelAnimal.danger"
                            name="danger">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                            <option>7</option>
                            <option>8</option>
                            <option>9</option>
                            <option>10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">Corral al que será asignado:</label>
                        <select class="form-control" id="exampleFormControlSelect1" [(ngModel)]="modelAnimal.corral"
                            name="corral">
                            <option *ngFor="let corral_ of allCorrales" [value]="corral_._id">{{corral_.name}}</option>
                        </select>
                    </div>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="estate" [(ngModel)]="modelAnimal.state"
                            name="state">
                        <label class="form-check-label" for="estate">¿ Habilitado ?</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary" (click)="createAnimal(modelAnimal)">Crear</button>
            </div>
        </div>
    </div>
</div>